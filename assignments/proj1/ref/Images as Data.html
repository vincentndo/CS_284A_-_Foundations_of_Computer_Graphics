<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>cs184/284a</title><meta charset="UTF-8"><meta http-equiv="Content-Language" content="en"><link rel="stylesheet" href="Images%20as%20Data_files/ionicons.css">
<link rel="stylesheet" href="Images%20as%20Data_files/cs184-web-e4036be4.css">
<link rel="stylesheet" href="Images%20as%20Data_files/katex.css">
<link rel="stylesheet" href="Images%20as%20Data_files/github-markdown.css">
<link rel="stylesheet" href="Images%20as%20Data_files/github.css"><style type="text/css">date-input-polyfill{background:#fff;color:#000;text-shadow:none;border:0;padding:0;height:auto;width:auto;line-height:normal;font-family:sans-serif;font-size:14px;position:absolute!important;text-align:center;box-shadow:0 3px 10px 1px rgba(0,0,0,.22);cursor:default;z-index:1;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;overflow:hidden;display:block}date-input-polyfill[data-open=false]{visibility:hidden;z-index:-100!important;top:0}date-input-polyfill[data-open=true]{visibility:visible}date-input-polyfill select,date-input-polyfill table,date-input-polyfill td,date-input-polyfill th{background:#fff;color:#000;text-shadow:none;border:0;padding:0;height:auto;width:auto;line-height:normal;font-family:sans-serif;font-size:14px;box-shadow:none;font-family:Lato,Helvetica,Arial,sans-serif}date-input-polyfill button,date-input-polyfill select{border:0;border-radius:0;border-bottom:1px solid #dadfe1;height:24px;vertical-align:top;-webkit-appearance:none;-moz-appearance:none}date-input-polyfill .monthSelect-wrapper{width:55%;display:inline-block}date-input-polyfill .yearSelect-wrapper{width:25%;display:inline-block}date-input-polyfill select{width:100%}date-input-polyfill select:first-of-type{border-right:1px solid #dadfe1;border-radius:5px 0 0 0;-moz-border-radius:5px 0 0 0;-webkit-border-radius:5px 0 0 0}date-input-polyfill button{width:20%;background:#dadfe1;border-radius:0 5px 0 0;-moz-border-radius:0 5px 0 0;-webkit-border-radius:0 5px 0 0}date-input-polyfill button:hover{background:#eee}date-input-polyfill table{border-collapse:separate!important;border-radius:0 0 5px 5px;-moz-border-radius:0 0 5px 5px;-webkit-border-radius:0 0 5px 5px;overflow:hidden;max-width:280px;width:280px}date-input-polyfill td,date-input-polyfill th{width:32px;padding:4px;text-align:center;box-sizing:content-box}date-input-polyfill td[data-day]{cursor:pointer}date-input-polyfill td[data-day]:hover{background:#dadfe1}date-input-polyfill [data-selected]{font-weight:700;background:#d8eaf6}</style></head><body><script>$MG={"o":{"browserRefresh":false,"activeSemester":{"id":3,"tag":"sp20"},"auth":{"profile":{"id":14899769,"username":"vincentndo","avatar_url":"https://avatars3.githubusercontent.com/u/14899769?v=4"},"user":{"id":3600,"sid":25949105,"email":"ninhdo@berkeley.edu","roster_name":"Do, Ninh","role":"student","semester_id":3,"profile_id":14899769}},"semester":{"id":3,"tag":"sp20"}},"$$":[{"l":["auth","user","created_at"],"r":{"type":"Date","value":1579677917000}},{"l":["auth","user","updated_at"],"r":{"type":"Date","value":1580524748000}}]}</script><div id="app-root"><div class="rel" id="app-page"><header class="rel" id="app-header"><div><nav><a href="https://cs184.eecs.berkeley.edu/sp20" class="">cs184/284a</a><a href="https://cs184.eecs.berkeley.edu/sp20/policies" class="">policies</a><a href="https://cs184.eecs.berkeley.edu/sp20/staff" class="">staff</a><a href="https://cs184.eecs.berkeley.edu/sp20/readings" class="">readings</a><a href="https://cs184.eecs.berkeley.edu/sp20/resources" class="">resources</a></nav><div class="header-tail"><div class="header-auth"><a href="https://cs184.eecs.berkeley.edu/auth/logout?r=/sp20" class="nav-link"><i class="icon ion-ios-log-out"></i></a><a href="https://cs184.eecs.berkeley.edu/sp20/p/vincentndo" class="profile"><span class="avatar"><img src="Images%20as%20Data_files/14899769.jpeg"></span><span class="username">vincentndo</span></a></div></div></div></header><div class="full" id="app-page__body"><div class="article"><div class="article-header"><h1>Images as Data</h1></div><div class="article-body"><div class="comp-md markdown-body"><p>We
 traditionally think of images as a rectangular grid, where a color is 
specified at every grid point, or pixel. While a user might notice each 
individual pixel at smaller scales, at larger scales these pixels are 
virtually invisible, as shown in the example below. We’ll talk about 
some of the artifacts this results in later on in the course. 
(Interesting reading: <a href="http://alvyray.com/Memos/CG/Microsoft/6_pixel.pdf">A Pixel is Not a Little Square</a>)</p>
<p><img src="http://photos1.blogger.com/blogger2/3588/557015169553547/1600/pixels.0.jpg" alt="pixels"></p>
<p>How do we actually represent this data in our computer? Colors are almost always represented in <strong>RGB format</strong> - many colors are representable by combinations of <strong>red, green, and blue channels</strong>. You might also occasionally see a fourth <strong>alpha channel</strong> that represents transparency, but that isn’t quite as important in the context of this course.</p>
<p><em>Aside from RGB, there are also a number of different color 
representations, such as HSV or CIELab that claim to better represent 
the human visual system. However, we’ll mostly ignore these other 
formats because our displays directly operate on RGB - every pixel on 
your screen is made up of a red subpixel, green subpixel, and blue 
subpixel.</em></p>
<p><em>As we’ll see later on in the class, it turns out that RGB 
actually isn’t quite enough to represent all the colors that a human eye
 can see, so people over the years have tried introducing another yellow
 channel, including building displays that also have yellow subpixels. 
Unfortunately, not enough content was created that utilized that extra 
yellow channel, so most of these efforts ultimately failed.</em></p>
<h3>Numerical Data Types</h3>
<p>Traditionally, we restrict each of our color channels to the floating point range <strong>[0 … 1]</strong>.
 However, it turns out many of our image file formats and displays only 
support 8 bits, or 1 byte per channel. We thus often represent our color
 channels as 8 bit unsigned integers, with a range of the integers in <strong>[0 … 255]</strong>. In C++, we write this with the data type <code>uint8_t</code>. Be aware of what data type you're working with at any given moment!</p>
<p><em>It turns out that linearly quantizing color data to 8 bit and 
displaying that on a screen loses a lot of fine details that our human 
eyes would normally be able to distinguish. As a result, people have 
started building high dynamic range, or HDR displays that are capable of
 displaying beyond 8 bit. On the flip side, people have also developed 
HDR tone-mapping techniques that aim to intelligently map our floating 
point color data to 8 bit, to more accurately capture the contrast that 
our human eyes can see.</em></p>
<p><img src="http://web.csulb.edu/divisions/af/wdc/assets/24bit_displays.gif" alt="display"></p>
<h3>Indexing into Images</h3>
<p>With that in mind, how do we actually represent the whole grid of 
colors that composes the entire image? To demonstrate, imagine the image
 as a 2D coordinate system, where <strong>[0, 0] is the top left corner</strong>
 (this is common practice - don’t use the bottom left!). We can think of
 row 0 as the first row from the top, row 1 as the second row, and so 
forth. Similarly, we can think of column 0 as the first column from the 
left, column 1 as the second column, and so forth. Thus, a pixel at x = 
50, y = 100 would be the pixel at column 50 from the left, row 100 from 
the top. Don’t get confused - x = column, y = row.</p>
<p><img src="http://rbwhitaker.wdfiles.com/local--files/monogame-introduction-to-2d-graphics/2DCoordinateSystem.png" alt="coordinate system"></p>
<p>An intuitive way to represent this would be just simply as a <strong>2d array</strong>
 with dim height, width - the first dimension corresponds to the row 
(y), and the second dimension corresponds to the column (x). We call 
this <strong>row-major</strong> format. Some programs also use <strong>column-major</strong>,
 where the first dimension corresponds to the column (x), and the second
 dimension corresponds to the row (y). Be careful about which format 
your libraries and programs use!</p>
<p>However, fundamentally the memory inside your computer is 1 
dimensional, not 2 dimensional. Thus, another common practice is to 
basically flatten this 2d data structure into a one dimensional array 
with length <strong>width * height</strong>. As we’ll talk about in 
discussion, we basically place each row after the previous one in this 
new flattened data structure. Thus, a pixel at position [x, y] would be 
located at <strong>y * width + x</strong> in our buffer. If we 
incorporate the 3 RGB color channels, each pixel would take 3 bytes to 
represent. If we assume R = 0, G = 1, and B = 2, the color channels of 
the pixel would be located at <strong>(y * width + x) * 3 + channel</strong>. If we include the fourth alpha channel, the color channels of the pixel would be located at <strong>(y * width + x) * 4 + channel</strong>.</p>
<p>One thing to keep in mind during your projects in this class is that 
images are huge. A 1920 by 1280 image contains 2,457,600 pixels. With 
three color channels, that’s 7,372,800 data points, which is a whole 
load of data. Thus, when working with your projects, try and start with 
smaller examples, to make it easier to debug your code.</p>
</div></div></div></div><footer id="app-footer"></footer></div></div><script src="Images%20as%20Data_files/cs184-web-40b5d670.js"></script>
<script>$_mod_cal184.ready();</script><date-input-polyfill data-open="false"><span class="yearSelect-wrapper"><select class="yearSelect"><option value="1890" selected="selected">1890</option><option value="1891">1891</option><option value="1892">1892</option><option value="1893">1893</option><option value="1894">1894</option><option value="1895">1895</option><option value="1896">1896</option><option value="1897">1897</option><option value="1898">1898</option><option value="1899">1899</option><option value="1900">1900</option><option value="1901">1901</option><option value="1902">1902</option><option value="1903">1903</option><option value="1904">1904</option><option value="1905">1905</option><option value="1906">1906</option><option value="1907">1907</option><option value="1908">1908</option><option value="1909">1909</option><option value="1910">1910</option><option value="1911">1911</option><option value="1912">1912</option><option value="1913">1913</option><option value="1914">1914</option><option value="1915">1915</option><option value="1916">1916</option><option value="1917">1917</option><option value="1918">1918</option><option value="1919">1919</option><option value="1920">1920</option><option value="1921">1921</option><option value="1922">1922</option><option value="1923">1923</option><option value="1924">1924</option><option value="1925">1925</option><option value="1926">1926</option><option value="1927">1927</option><option value="1928">1928</option><option value="1929">1929</option><option value="1930">1930</option><option value="1931">1931</option><option value="1932">1932</option><option value="1933">1933</option><option value="1934">1934</option><option value="1935">1935</option><option value="1936">1936</option><option value="1937">1937</option><option value="1938">1938</option><option value="1939">1939</option><option value="1940">1940</option><option value="1941">1941</option><option value="1942">1942</option><option value="1943">1943</option><option value="1944">1944</option><option value="1945">1945</option><option value="1946">1946</option><option value="1947">1947</option><option value="1948">1948</option><option value="1949">1949</option><option value="1950">1950</option><option value="1951">1951</option><option value="1952">1952</option><option value="1953">1953</option><option value="1954">1954</option><option value="1955">1955</option><option value="1956">1956</option><option value="1957">1957</option><option value="1958">1958</option><option value="1959">1959</option><option value="1960">1960</option><option value="1961">1961</option><option value="1962">1962</option><option value="1963">1963</option><option value="1964">1964</option><option value="1965">1965</option><option value="1966">1966</option><option value="1967">1967</option><option value="1968">1968</option><option value="1969">1969</option><option value="1970">1970</option><option value="1971">1971</option><option value="1972">1972</option><option value="1973">1973</option><option value="1974">1974</option><option value="1975">1975</option><option value="1976">1976</option><option value="1977">1977</option><option value="1978">1978</option><option value="1979">1979</option><option value="1980">1980</option><option value="1981">1981</option><option value="1982">1982</option><option value="1983">1983</option><option value="1984">1984</option><option value="1985">1985</option><option value="1986">1986</option><option value="1987">1987</option><option value="1988">1988</option><option value="1989">1989</option><option value="1990">1990</option><option value="1991">1991</option><option value="1992">1992</option><option value="1993">1993</option><option value="1994">1994</option><option value="1995">1995</option><option value="1996">1996</option><option value="1997">1997</option><option value="1998">1998</option><option value="1999">1999</option><option value="2000">2000</option><option value="2001">2001</option><option value="2002">2002</option><option value="2003">2003</option><option value="2004">2004</option><option value="2005">2005</option><option value="2006">2006</option><option value="2007">2007</option><option value="2008">2008</option><option value="2009">2009</option><option value="2010">2010</option><option value="2011">2011</option><option value="2012">2012</option><option value="2013">2013</option><option value="2014">2014</option><option value="2015">2015</option><option value="2016">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020">2020</option><option value="2021">2021</option><option value="2022">2022</option><option value="2023">2023</option><option value="2024">2024</option><option value="2025">2025</option><option value="2026">2026</option><option value="2027">2027</option><option value="2028">2028</option><option value="2029">2029</option><option value="2030">2030</option><option value="2031">2031</option><option value="2032">2032</option><option value="2033">2033</option><option value="2034">2034</option><option value="2035">2035</option><option value="2036">2036</option><option value="2037">2037</option><option value="2038">2038</option><option value="2039">2039</option><option value="2040">2040</option></select></span><span class="monthSelect-wrapper"><select class="monthSelect"></select></span><button>Today</button><table><thead></thead><tbody></tbody></table></date-input-polyfill><script>(function(){var w=window;w.$components=(w.$components||[]).concat({"r":"M","w":[["s0-0-0-3-9",0,{"to":"/resources","l":"resources"},{"f":1,"s":{"active":false},"w":{"target":"/sp20/resources"}}],["s0-0-0-3-8",0,{"to":"/readings","l":"readings"},{"f":1,"s":{"active":false},"w":{"target":"/sp20/readings"}}],["s0-0-0-3-7",0,{"to":"/staff","l":"staff"},{"f":1,"s":{"active":false},"w":{"target":"/sp20/staff"}}],["s0-0-0-3-6",0,{"to":"/policies","l":"policies"},{"f":1,"s":{"active":false},"w":{"target":"/sp20/policies"}}],["s0-0-0-3-5",0,{"to":"/","l":"cs184/284a"},{"f":1,"s":{"active":false},"w":{"target":"/sp20"}}]],"t":["/cal-184-website$3.1.1/client/components/comp-nav-link/index.marko"]})||w.$components})()</script></body></html>